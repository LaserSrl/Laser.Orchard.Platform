{"version":3,"file":"videoplayer.js","sources":["../../src/js/plugins/videoplayer.js"],"sourcesContent":["import BaseComponent from 'bootstrap/js/src/base-component.js'\r\n\r\nimport SelectorEngine from 'bootstrap/js/src/dom/selector-engine'\r\nimport Manipulator from 'bootstrap/js/src/dom/manipulator'\r\nimport videojs from 'video.js'\r\n\r\nconst NAME = 'videoplayer'\r\n\r\nconst SELECTOR_TOGGLE = '[data-bs-video]'\r\n\r\nconst itLang = {\r\n  'Audio Player': 'Lettore audio',\r\n  'Video Player': 'Lettore video',\r\n  Play: 'Play',\r\n  Pause: 'Pausa',\r\n  Replay: 'Replay',\r\n  'Current Time': 'Orario attuale',\r\n  Duration: 'Durata',\r\n  'Remaining Time': 'Tempo rimanente',\r\n  'Stream Type': 'Tipo del Streaming',\r\n  LIVE: 'LIVE',\r\n  Loaded: 'Caricato',\r\n  Progress: 'Stato',\r\n  'Progress Bar': 'Barra di avanzamento',\r\n  'progress bar timing: currentTime={1} duration={2}': '{1} di {2}',\r\n  Fullscreen: 'Schermo intero',\r\n  'Exit Fullscreen': 'Chiudi Schermo intero',\r\n  Mute: 'Muto',\r\n  Unmute: 'Audio',\r\n  'Playback Rate': 'Tasso di riproduzione',\r\n  Subtitles: 'Sottotitoli',\r\n  'subtitles off': 'Senza sottotitoli',\r\n  Captions: 'Sottotitoli non udenti',\r\n  'captions off': 'Senza sottotitoli non udenti',\r\n  Chapters: 'Capitolo',\r\n  Descriptions: 'Descrizioni',\r\n  'descriptions off': 'Descrizioni disattivate',\r\n  'Audio Track': 'Traccia audio',\r\n  'Volume Level': 'Livello del volume',\r\n  'You aborted the media playback': 'La riproduzione del filmato è stata interrotta.',\r\n  'A network error caused the media download to fail part-way.': 'Il download del filmato è stato interrotto a causa di un problema rete.',\r\n  'The media could not be loaded, either because the server or network failed or because the format is not supported.':\r\n    'Il filmato non può essere caricato a causa di un errore nel server o nella rete o perché il formato non viene supportato.',\r\n  'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.':\r\n    'La riproduzione del filmato è stata interrotta a causa di un file danneggiato o per l’utilizzo di impostazioni non supportate dal browser.',\r\n  'No compatible source was found for this media.': 'Non ci sono fonti compatibili per questo filmato.',\r\n  'The media is encrypted and we do not have the keys to decrypt it.': 'Il contenuto multimediale è criptato e non disponiamo delle chiavi per decifrarlo.',\r\n  'Play Video': 'Riprduci il video',\r\n  Close: 'Chiudi',\r\n  'Close Modal Dialog': 'Chiudi la finestra di dialogo',\r\n  'Modal Window': 'Finestra di dialogo',\r\n  'This is a modal window': 'Questa è una finestra di dialogo',\r\n  'This modal can be closed by pressing the Escape key or activating the close button.':\r\n    'Questa finestra di dialogo può essere chiusa premendo sul tasto Esc o attivando il pulsante di chiusura.',\r\n  ', opens captions settings dialog': ', aprire i parametri della trascrizione dei sottotitoli',\r\n  ', opens subtitles settings dialog': ', aprire i parametri dei sottotitoli',\r\n  ', opens descriptions settings dialog': ', aprire i parametri delle descrizioni',\r\n  ', selected': ', selezionato',\r\n  'captions settings': 'Parametri della trascrizione dei sottotitoli',\r\n  'subtitles settings': 'Parametri dei sottotitoli',\r\n  'descriptions settings': 'Parametri delle descrizioni',\r\n  Text: 'Testo',\r\n  White: 'Bianco',\r\n  Black: 'Nero',\r\n  Red: 'Rosso',\r\n  Green: 'Verde',\r\n  Blue: 'Blu',\r\n  Yellow: 'Giallo',\r\n  Magenta: 'Magenta',\r\n  Cyan: 'Ciano',\r\n  Background: 'Sfondo',\r\n  Window: 'Finestra',\r\n  Transparent: 'Trasparente',\r\n  'Semi-Transparent': 'Semi-Trasparente',\r\n  Opaque: 'Opaco',\r\n  'Font Size': 'Dimensione dei caratteri',\r\n  'Text Edge Style': 'Stile dei bordi del testo',\r\n  None: 'Nessuno',\r\n  Uniform: 'Uniforme',\r\n  Dropshadow: 'Ombreggiatura',\r\n  'Font Family': 'Famiglia di caratteri',\r\n  'Proportional Sans-Serif': 'Carattere a spaziatura variabile senza grazie (Proportional Sans-Serif)',\r\n  'Monospace Sans-Serif': 'Carattere a spaziatura fissa senza grazie (Monospace Sans-Serif)',\r\n  'Proportional Serif': 'Carattere a spaziatura variabile con grazie (Proportional Serif)',\r\n  'Monospace Serif': 'Carattere a spaziatura fissa con grazie (Monospace Serif)',\r\n  'Small Caps': 'Maiuscoletto',\r\n  Reset: 'Reinizializza',\r\n  'restore all settings to the default values': 'Ripristina i valori predefiniti per tutti i parametri',\r\n  Done: 'Operazione completata',\r\n  'Caption Settings Dialog': 'Finestra di dialogo dei parametri della trascrizione dei sottotitoli',\r\n  'Beginning of dialog window. Escape will cancel and close the window.':\r\n    'Inizio della finestra di dialogo. Il tasto Esc annullerà l’operazione e chiuderà la finestra.',\r\n  'End of dialog window.': 'Fine della finestra di dialogo.',\r\n  '{1} is loading.': '{1} in fase di caricamento.',\r\n  'Exit Picture-in-Picture': 'Esci dalla modalità Picture-in-Picture',\r\n  'Picture-in-Picture': 'Picture-in-Picture',\r\n}\r\n\r\nconst DEFAULT_CONFIG = { languages: { it: itLang }, language: 'it' }\r\n\r\nconst Default = {}\r\n\r\nwindow.videojs = videojs\r\n\r\nclass VideoPlayer extends BaseComponent {\r\n  constructor(element, config) {\r\n    super(element)\r\n    element.classList.add('video-js', 'vjs-theme-bootstrap-italia', 'vjs-fluid', 'vjs-big-play-centered')\r\n    this._config = this._getConfig(config)\r\n\r\n    this.player = videojs(element, DEFAULT_CONFIG)\r\n  }\r\n\r\n  // Public\r\n\r\n  setYouTubeVideo(url) {\r\n    this.player.tech('youtube')\r\n    this.player.src({ type: 'video/youtube', src: url })\r\n  }\r\n\r\n  // Getters\r\n\r\n  static get NAME() {\r\n    return NAME\r\n  }\r\n\r\n  // Private\r\n  _getConfig(config) {\r\n    config = {\r\n      ...Default,\r\n      ...Manipulator.getDataAttributes(this._element),\r\n      ...(typeof config === 'object' ? config : {}),\r\n    }\r\n    return config\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst players = SelectorEngine.find(SELECTOR_TOGGLE)\r\nif (players.length > 0) {\r\n  players.forEach((player) => {\r\n    VideoPlayer.getOrCreateInstance(player)\r\n  })\r\n}\r\n\r\nexport default VideoPlayer\r\n"],"names":[],"mappings":"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"}