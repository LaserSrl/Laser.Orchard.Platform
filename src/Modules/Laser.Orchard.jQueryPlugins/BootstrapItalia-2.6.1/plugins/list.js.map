{"version":3,"file":"list.js","sources":["../../src/js/plugins/list.js"],"sourcesContent":["import BaseComponent from 'bootstrap/js/src/base-component.js'\r\n\r\nimport SelectorEngine from 'bootstrap/js/src/dom/selector-engine'\r\nimport EventHandler from 'bootstrap/js/src/dom/event-handler'\r\n\r\nconst NAME = 'list'\r\nconst DATA_KEY = 'bs.list'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst EVENT_CLICK = `click${EVENT_KEY}`\r\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\r\n\r\nconst CLASS_NAME_ACTIVE = 'active'\r\n\r\nconst SELECTOR_LIST = '[data-bs-list-checkbox]' //'.it-list'\r\nconst SELECTOR_ITEM_CHECKBOX = 'input[type=checkbox]'\r\n\r\nclass List extends BaseComponent {\r\n  constructor(element) {\r\n    super(element)\r\n\r\n    this._init()\r\n  }\r\n\r\n  // Getters\r\n\r\n  static get NAME() {\r\n    return NAME\r\n  }\r\n\r\n  // Public\r\n  toggleCheckbox(item) {\r\n    const input = SelectorEngine.findOne('input', item)\r\n    if (input) {\r\n      if (input.checked) {\r\n        input.checked = false\r\n        item.classList.remove(CLASS_NAME_ACTIVE)\r\n      } else {\r\n        input.checked = true\r\n        item.classList.add(CLASS_NAME_ACTIVE)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Private\r\n  _init() {\r\n    this._initCheckbox()\r\n  }\r\n  _initCheckbox() {\r\n    SelectorEngine.find(SELECTOR_ITEM_CHECKBOX, this._element).forEach((item) => {\r\n      EventHandler.on(item.closest('a'), EVENT_CLICK, (evt) => {\r\n        evt.preventDefault()\r\n        this.toggleCheckbox(item.closest('a'))\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nSelectorEngine.find(SELECTOR_LIST).forEach((list) => {\r\n  SelectorEngine.find(SELECTOR_ITEM_CHECKBOX, list).forEach((checkbox) => {\r\n    EventHandler.one(checkbox.closest('a'), EVENT_CLICK_DATA_API, (evt) => {\r\n      if (!List.getInstance(list)) {\r\n        evt.preventDefault()\r\n        const listObj = List.getOrCreateInstance(list)\r\n        listObj.toggleCheckbox(evt.currentTarget)\r\n      }\r\n    })\r\n  })\r\n})\r\n\r\nexport default List\r\n"],"names":[],"mappings":";;;;AAKA,MAAM,IAAI,GAAG,OAAM;AACnB,MAAM,QAAQ,GAAG,UAAS;AAC1B,MAAM,SAAS,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAC;AAChC,MAAM,YAAY,GAAG,YAAW;AAChC;AACA,MAAM,WAAW,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,EAAC;AACvC,MAAM,oBAAoB,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,YAAY,CAAC,EAAC;AAC/D;AACA,MAAM,iBAAiB,GAAG,SAAQ;AAClC;AACA,MAAM,aAAa,GAAG,0BAAyB;AAC/C,MAAM,sBAAsB,GAAG,uBAAsB;AACrD;AACA,MAAM,IAAI,SAAS,aAAa,CAAC;AACjC,EAAE,WAAW,CAAC,OAAO,EAAE;AACvB,IAAI,KAAK,CAAC,OAAO,EAAC;AAClB;AACA,IAAI,IAAI,CAAC,KAAK,GAAE;AAChB,GAAG;AACH;AACA;AACA;AACA,EAAE,WAAW,IAAI,GAAG;AACpB,IAAI,OAAO,IAAI;AACf,GAAG;AACH;AACA;AACA,EAAE,cAAc,CAAC,IAAI,EAAE;AACvB,IAAI,MAAM,KAAK,GAAG,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,EAAC;AACvD,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,IAAI,KAAK,CAAC,OAAO,EAAE;AACzB,QAAQ,KAAK,CAAC,OAAO,GAAG,MAAK;AAC7B,QAAQ,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,iBAAiB,EAAC;AAChD,OAAO,MAAM;AACb,QAAQ,KAAK,CAAC,OAAO,GAAG,KAAI;AAC5B,QAAQ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAC;AAC7C,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA,EAAE,KAAK,GAAG;AACV,IAAI,IAAI,CAAC,aAAa,GAAE;AACxB,GAAG;AACH,EAAE,aAAa,GAAG;AAClB,IAAI,cAAc,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AACjF,MAAM,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,WAAW,EAAE,CAAC,GAAG,KAAK;AAC/D,QAAQ,GAAG,CAAC,cAAc,GAAE;AAC5B,QAAQ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAC;AAC9C,OAAO,EAAC;AACR,KAAK,EAAC;AACN,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AACrD,EAAE,cAAc,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK;AAC1E,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,oBAAoB,EAAE,CAAC,GAAG,KAAK;AAC3E,MAAM,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;AACnC,QAAQ,GAAG,CAAC,cAAc,GAAE;AAC5B,QAAQ,MAAM,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAC;AACtD,QAAQ,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,aAAa,EAAC;AACjD,OAAO;AACP,KAAK,EAAC;AACN,GAAG,EAAC;AACJ,CAAC;;;;"}