{"version":3,"file":"input-label.js","sources":["../../src/js/plugins/input-label.js"],"sourcesContent":["import EventHandler from 'bootstrap/js/src/dom/event-handler'\r\nimport SelectorEngine from 'bootstrap/js/src/dom/selector-engine'\r\n\r\nconst NAME = 'inputlabel'\r\nconst DATA_KEY = 'bs.inputlabel'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n//const DATA_API_KEY = '.data-api'\r\n\r\nconst EVENT_FOCUS = `focus${EVENT_KEY}`\r\nconst EVENT_BLUR = `blur${EVENT_KEY}`\r\nconst EVENT_CHANGE = `change${EVENT_KEY}`\r\n\r\nconst CLASS_NAME_ACTIVE = 'active'\r\n\r\nclass InputLabel {\r\n  constructor(element) {\r\n    this._element = element\r\n\r\n    this._init()\r\n  }\r\n\r\n  // Getters\r\n\r\n  static get NAME() {\r\n    return NAME\r\n  }\r\n\r\n  static getInputFromLabel = (labelElement) => {\r\n    return document.querySelector('#' + CSS.escape(labelElement.getAttribute('for')))\r\n  }\r\n\r\n  // Public\r\n\r\n  // Private\r\n  _init() {\r\n    const label = this._getLabel()\r\n    if (label && !label.classList.contains(CLASS_NAME_ACTIVE)) {\r\n      //script disabled if active on init\r\n      this._labelOut()\r\n      this._labelOver()\r\n    }\r\n    this._bindEvents()\r\n  }\r\n\r\n  _bindEvents() {\r\n    if (['date', 'time'].includes(this._element.getAttribute('type'))) {\r\n      return\r\n    }\r\n    if (this._element.getAttribute('type') === 'file') {\r\n      EventHandler.on(this._element, EVENT_BLUR, () => {\r\n        this._labelOut()\r\n      })\r\n    } else {\r\n      EventHandler.on(this._element, EVENT_FOCUS, () => {\r\n        this._labelOut()\r\n      })\r\n      EventHandler.on(this._element, EVENT_BLUR, () => {\r\n        this._labelOver()\r\n      })\r\n      EventHandler.on(this._element, EVENT_CHANGE, () => {\r\n        this._labelToggle()\r\n      })\r\n    }\r\n  }\r\n\r\n  _getLabel() {\r\n    return SelectorEngine.findOne('label[for=\"' + this._element.getAttribute('id') + '\"]')\r\n  }\r\n\r\n  _isEmpty() {\r\n    return !this._element.value && !this._element.getAttribute('placeholder')\r\n  }\r\n\r\n  _labelOut() {\r\n    const label = this._getLabel()\r\n    if (label) {\r\n      label.classList.add(CLASS_NAME_ACTIVE)\r\n    }\r\n  }\r\n  _labelOver() {\r\n    if (this._isEmpty()) {\r\n      const label = this._getLabel()\r\n      if (label) {\r\n        label.classList.remove(CLASS_NAME_ACTIVE)\r\n      }\r\n    }\r\n  }\r\n  _labelToggle() {\r\n    if (!this._isEmpty()) {\r\n      this._labelOut()\r\n    } else {\r\n      this._labelOver()\r\n    }\r\n  }\r\n}\r\n\r\nexport default InputLabel\r\n"],"names":[],"mappings":"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"}