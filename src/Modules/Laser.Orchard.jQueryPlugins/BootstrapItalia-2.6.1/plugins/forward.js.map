{"version":3,"file":"forward.js","sources":["../../src/js/plugins/forward.js"],"sourcesContent":["import BaseComponent from 'bootstrap/js/src/base-component.js'\r\n\r\nimport EventHandler from 'bootstrap/js/src/dom/event-handler'\r\n//import SelectorEngine from 'bootstrap/js/src/dom/selector-engine'\r\nimport Manipulator from 'bootstrap/js/src/dom/manipulator'\r\nimport { getElementFromSelector } from 'bootstrap/js/src/util/index'\r\n\r\nimport { documentScrollTo } from './util/tween'\r\n\r\nconst NAME = 'historyback'\r\nconst DATA_KEY = 'bs.historyback'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst EVENT_CLICK = `click${EVENT_KEY}`\r\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\r\n\r\nconst SELECTOR_TOGGLE = '[data-bs-toggle=\"forward\"]'\r\n\r\nconst Default = {\r\n  duration: 800,\r\n  easing: 'easeInOutSine',\r\n}\r\n\r\nclass Forward extends BaseComponent {\r\n  constructor(element, config) {\r\n    super(element)\r\n\r\n    this._config = this._getConfig(config)\r\n\r\n    this._bindEvents()\r\n  }\r\n\r\n  // Getters\r\n\r\n  static get NAME() {\r\n    return NAME\r\n  }\r\n\r\n  // Public\r\n  goToTarget() {\r\n    const target = getElementFromSelector(this._element)\r\n    if (target) {\r\n      documentScrollTo(target.offsetTop, {\r\n        duration: this._config.duration,\r\n        easing: this._config.easing,\r\n      })\r\n    }\r\n  }\r\n\r\n  // Private\r\n  _getConfig(config) {\r\n    config = {\r\n      ...Default,\r\n      ...Manipulator.getDataAttributes(this._element),\r\n      ...(typeof config === 'object' ? config : {}),\r\n    }\r\n    return config\r\n  }\r\n\r\n  _bindEvents() {\r\n    EventHandler.on(this._element, EVENT_CLICK, (evt) => {\r\n      evt.preventDefault()\r\n      this.goToTarget()\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n */\r\n/*const toggles = SelectorEngine.find(SELECTOR_TOGGLE)\r\ntoggles.forEach((toggle) => {\r\n  EventHandler.one(toggle, EVENT_CLICK_DATA_API, (evt) => {\r\n    evt.preventDefault()\r\n    const forward = Forward.getOrCreateInstance(toggle)\r\n    forward.goToTarget()\r\n  })\r\n})*/\r\n\r\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_TOGGLE, function (evt) {\r\n  evt.preventDefault()\r\n  const forward = Forward.getOrCreateInstance(this)\r\n  forward.goToTarget()\r\n})\r\n\r\nexport default Forward\r\n"],"names":[],"mappings":";;;;;;AASA,MAAM,IAAI,GAAG,cAAa;AAC1B,MAAM,QAAQ,GAAG,iBAAgB;AACjC,MAAM,SAAS,GAAG,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAC;AAChC,MAAM,YAAY,GAAG,YAAW;AAChC;AACA,MAAM,WAAW,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,EAAC;AACvC,MAAM,oBAAoB,GAAG,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,YAAY,CAAC,EAAC;AAC/D;AACA,MAAM,eAAe,GAAG,6BAA4B;AACpD;AACA,MAAM,OAAO,GAAG;AAChB,EAAE,QAAQ,EAAE,GAAG;AACf,EAAE,MAAM,EAAE,eAAe;AACzB,EAAC;AACD;AACA,MAAM,OAAO,SAAS,aAAa,CAAC;AACpC,EAAE,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE;AAC/B,IAAI,KAAK,CAAC,OAAO,EAAC;AAClB;AACA,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAC;AAC1C;AACA,IAAI,IAAI,CAAC,WAAW,GAAE;AACtB,GAAG;AACH;AACA;AACA;AACA,EAAE,WAAW,IAAI,GAAG;AACpB,IAAI,OAAO,IAAI;AACf,GAAG;AACH;AACA;AACA,EAAE,UAAU,GAAG;AACf,IAAI,MAAM,MAAM,GAAG,sBAAsB,CAAC,IAAI,CAAC,QAAQ,EAAC;AACxD,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,gBAAgB,CAAC,MAAM,CAAC,SAAS,EAAE;AACzC,QAAQ,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ;AACvC,QAAQ,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM;AACnC,OAAO,EAAC;AACR,KAAK;AACL,GAAG;AACH;AACA;AACA,EAAE,UAAU,CAAC,MAAM,EAAE;AACrB,IAAI,MAAM,GAAG;AACb,MAAM,GAAG,OAAO;AAChB,MAAM,GAAG,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC;AACrD,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,GAAG,MAAM,GAAG,EAAE,CAAC;AACnD,MAAK;AACL,IAAI,OAAO,MAAM;AACjB,GAAG;AACH;AACA,EAAE,WAAW,GAAG;AAChB,IAAI,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,WAAW,EAAE,CAAC,GAAG,KAAK;AACzD,MAAM,GAAG,CAAC,cAAc,GAAE;AAC1B,MAAM,IAAI,CAAC,UAAU,GAAE;AACvB,KAAK,EAAC;AACN,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,CAAC,EAAE,CAAC,QAAQ,EAAE,oBAAoB,EAAE,eAAe,EAAE,UAAU,GAAG,EAAE;AAChF,EAAE,GAAG,CAAC,cAAc,GAAE;AACtB,EAAE,MAAM,OAAO,GAAG,OAAO,CAAC,mBAAmB,CAAC,IAAI,EAAC;AACnD,EAAE,OAAO,CAAC,UAAU,GAAE;AACtB,CAAC;;;;"}